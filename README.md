# Movie Review Sentiment Analysis with MongoDB

A sentiment analysis application that classifies movie reviews as positive or negative, built with Python, MongoDB, scikit-learn, and Streamlit.

![Sentiment Analysis](confusion_matrix.png)

## Project Overview

This project analyzes movie reviews for sentiment using Natural Language Processing (NLP) and Machine Learning. It features:

- Text preprocessing with NLTK for cleaning and tokenizing reviews
- TF-IDF vectorization and Logistic Regression for sentiment classification
- MongoDB for storing both the IMDB dataset and user-generated reviews
- A Streamlit web interface for real-time sentiment analysis
- Data visualization of results and model performance

## Project Structure

```
movie-review-sentiment-analysis/
├── app.py                  # Streamlit web application
├── train_model.py          # Script for data processing and model training
├── requirements.txt        # Python dependencies
├── model.pkl               # Trained model (generated by train_model.py)
├── vectorizer.pkl          # TF-IDF vectorizer (generated by train_model.py)
├── model_metrics.pkl       # Model performance metrics
├── confusion_matrix.png    # Visualization of model performance
└── IMDB Dataset.csv        # Dataset containing 50,000 movie reviews
```

## Prerequisites

- Python 3.7 or higher
- MongoDB 4.4 or higher

## Setup Instructions

### 1. Clone the Repository

```bash
git clone https://github.com/yourusername/movie-review-sentiment-analysis.git
cd movie-review-sentiment-analysis
```

### 2. MongoDB Setup

This project requires MongoDB to store and retrieve movie reviews and model metrics.

#### MongoDB Installation (Ubuntu/Debian)

```bash
# Import MongoDB public GPG key
wget -qO - https://www.mongodb.org/static/pgp/server-7.0.asc | sudo apt-key add -

# Add MongoDB repository
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/7.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-7.0.list

# Update package database
sudo apt update

# Install MongoDB
sudo apt install -y mongodb-org

# Start MongoDB service
sudo systemctl start mongod

# Enable MongoDB to start automatically at boot
sudo systemctl enable mongod
```

#### Verify MongoDB Installation

```bash
# Check MongoDB status
sudo systemctl status mongod

# Connect to MongoDB and check version
mongosh --eval "db.version()"
```

MongoDB should be running on the default port (27017).

### 3. Python Environment Setup

```bash
# Create and activate virtual environment
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

### 4. Load Dataset and Train Model

The IMDB Dataset.csv file should contain 50,000 movie reviews with sentiment labels. 
Run the training script to preprocess data, train the model, and store data in MongoDB:

```bash
python train_model.py
```

This script will:
- Connect to MongoDB
- Load and preprocess the IMDB dataset
- Store all reviews in MongoDB
- Train a sentiment analysis model
- Save model, vectorizer, and metrics
- Generate a confusion matrix visualization

### 5. Run the Application

```bash
streamlit run app.py
```

The application will be accessible at http://localhost:8501 in your web browser.

## Using the Application

1. Enter a movie review in the text area
2. Click "Analyze Sentiment" to get the sentiment prediction
3. View the confidence score and sentiment visualization
4. Explore the word cloud of important terms in your review
5. Check model performance metrics in the expandable section

## MongoDB Collections

The application uses the following MongoDB collections:

- **reviews**: Contains all IMDB movie reviews with original and processed text
- **user_reviews**: Stores reviews submitted through the app interface
- **model_metrics**: Stores accuracy, precision, recall, and other model performance metrics

## Troubleshooting

### MongoDB Connection Issues

If you see "MongoDB connection failed" in the app:

1. Verify MongoDB is running: `sudo systemctl status mongod`
2. If not running, start it: `sudo systemctl start mongod`
3. Check MongoDB logs: `sudo cat /var/log/mongodb/mongod.log`

### Wordcloud Errors

If wordcloud visualization fails:

1. Ensure your review contains sufficient meaningful text
2. The app includes fallback mechanisms to handle empty text

## Authors

- Your Name - Initial work

## License

This project is licensed under the MIT License

## Acknowledgments

- IMDB Dataset providers
- Streamlit, scikit-learn, NLTK, and MongoDB development teams 